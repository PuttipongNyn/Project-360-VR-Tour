const baseUrl = 'https://photo-sphere-viewer-data.netlify.app/assets/';

const viewer = new PhotoSphereViewer.Viewer({
    container: 'viewer',
    // caption: 'MAP',
    loadingImg: baseUrl + 'loader.gif',
    touchmoveTwoFingers: true,
    mousewheelCtrlKey: true,
    defaultYaw: '130deg',
    navbar: 'zoom move gallery caption fullscreen',

    plugins: [
        PhotoSphereViewer.MarkersPlugin,

        [PhotoSphereViewer.GalleryPlugin, {
            thumbnailSize: { width: 100, height: 100 },
        }],
        [PhotoSphereViewer.VirtualTourPlugin, {
            positionMode: 'gps',
            renderMode: '3d',
        }],
    ],
});

const virtualTour = viewer.getPlugin(PhotoSphereViewer.VirtualTourPlugin);

virtualTour.setNodes([
    {
        id: '1',
        panorama: 'image/cp.jpg',
        thumbnail: 'image/thump/thump_cp.jpg',
        name: 'อาคารวิทยวิภาส',
        // caption: 'อาคารวิทยวิภาส',
        //links: [{ nodeId: '3' }],
        markers: [
            {
                id: 'marker-1-1',
                position: { yaw: -4, pitch: 0.090 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'อาคารวิทยวิภาส',
                content: document.getElementById("a1-1").innerHTML,
            },
            {
                id: 'marker-1-2',
                position: { yaw: -4.35, pitch: 0.13 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'College of Computing',
                content: document.getElementById("a1-2").innerHTML,
            },
            {
                id: 'marker-1-3',
                position: { yaw: -1.5, pitch: 0.050 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'คณะวิทยาการจัดการ',
                content: document.getElementById("a1-3").innerHTML,
            },
            {
                id: 'marker-1-4',
                position: { yaw: -0.5, pitch: 0.050 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'สำนักเทคโนโลยีดิจิทัล',
                content: document.getElementById("a1-4").innerHTML,
            },
            {
                id: 'marker-1-5',
                position: { yaw: 0.5, pitch: 0.050 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ตึกคณะวิทยาสาสตร์',
            },
        ],
        gps: [102.825108, 16.474508],
        panoData: { poseHeading: 110 },
    },
    {
        id: '2',
        panorama: 'image/sarn.jpg',
        thumbnail: 'image/thump/thump_sarn.jpg',
        name: 'ศาลเจ้าพ่อมอดินแดง',
        // caption: 'ศาลเจ้าพ่อมอดินแดง',
        //links: [{ nodeId: '3' }, { nodeId: '1' }],
        markers: [
            {
                id: 'marker-2-1',
                position: { yaw: 2.2, pitch: 0.09 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ศาลเจ้าพ่อมอดินแดง',
                content: document.getElementById("a2-1").innerHTML,
            },
            {
                id: 'marker-2-2',
                position: { yaw: 3.2, pitch: -0.01 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ประตูมหาวิทยาลัยขอนแก่น (ด้านหลัง)',
            },
            {
                id: 'marker-2-3',
                position: { yaw: 0.2, pitch: 0.09 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'คณะสัตวแพทยศาสตร์',
                content: document.getElementById("a2-3").innerHTML,
            },
            {
                id: 'marker-2-4',
                position: { yaw: 4.2, pitch: -0.09 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ที่จอดรถ',
            },
            {
                id: 'marker-2-5',
                position: { yaw: -0.2, pitch: 0.09 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'โรงแรมบายาสิตา',
                content: document.getElementById("a2-5").innerHTML,
            },

        ],
        gps: [102.831994, 16.477531],
        panoData: { poseHeading: 120 },
    },
    {
        id: '3',
        panorama: 'image/library.jpg',
        thumbnail: 'image/thump/thump_library.jpg',
        name: 'ห้องสมุด และ Complex',
        //links: [{ nodeId: '1' }, { nodeId: '2' }, { nodeId: '4' },{ nodeId: '5' }],
        gps: [102.820450, 16.477534],
        panoData: { poseHeading: 328 },
        markers: [
            {
                id: 'marker-3-1',
                position: { yaw: -0.7, pitch: 0.090 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'คอมเพล็กซ์',
                content: document.getElementById("a3-1").innerHTML,
            },
            {
                id: 'marker-3-2',
                position: { yaw: -3.8, pitch: 0.090 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ห้องสมุด',
                content: document.getElementById("a3-2").innerHTML,
            },
            {
                id: 'marker-3-3',
                position: { yaw: -2.5, pitch: 0.090 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'คณะเกษตรศาสตร์',
                content: document.getElementById("a3-3").innerHTML,
            },
            {
                id: 'marker-3-4',
                position: { yaw: -3.1, pitch: 0.070 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ที่จอดรถมอเตอร์ไซต์',
            },
            {
                id: 'marker-3-5',
                position: { yaw: 0.7, pitch: 0.030 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ที่จอดรถมอเตอร์ไซต์',
            },
        ],
    },
    {
        id: '4',
        panorama: 'image/white.jpg',
        thumbnail: 'image/thump/thump_white.jpg',
        name: 'สะพานขาว',
        //links: [{ nodeId: '3' }, { nodeId: '5' }],
        gps: [-80.156089, 25.666357, 3],
        panoData: { poseHeading: 78 },
        markers: [
            {
                id: 'marker-4-1',
                position: { yaw: -5.01, pitch: 0.040 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'สะพานขาว',
                content: document.getElementById("a4-1").innerHTML,
            },
            {
                id: 'marker-4-2',
                position: { yaw: -4.4, pitch: 0.090 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'สระพลาสติก',
                content: document.getElementById("a4-2").innerHTML,
            },
            {
                id: 'marker-4-3',
                position: { yaw: -6.0, pitch: 0.070 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'โรงพิมพ์',
                content: document.getElementById("a4-3").innerHTML,
            },
            {
                id: 'marker-4-4',
                position: { yaw: 5.4, pitch: 0.070 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ภาควิชาวิศวกรรมเครื่องกล',
                content: document.getElementById("a4-4").innerHTML,
            },
            {
                id: 'marker-4-5',
                position: { yaw: -4.0, pitch: 0.070 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ที่ออกกำลังกาย',
            },
            
        ],
    },
    {
        id: '5',
        panorama: 'image/lod.jpg',
        thumbnail: 'image/thump/thump_lod.jpg',
        name: 'วงเวียนวิทย์',
        //links: [{ nodeId: '3' }, { nodeId: '4' }],
        gps: [-80.156292, 25.666446, 2],
        panoData: { poseHeading: 190 },
        markers: [
            {
                id: 'marker-5-1',
                position: { yaw: -4.47, pitch: 0.205 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'วงเวียนวิทย์',
                content: document.getElementById("a5-1").innerHTML,
            },
            {
                id: 'marker-5-2',
                position: { yaw: -0.8, pitch: 0.050 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'อาคาร 50 ปี วิศวะรวมใจ',
                content: document.getElementById("a5-2").innerHTML,
            },
            {
                id: 'marker-5-3',
                position: { yaw: -3.3, pitch: 0.120 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'คณะวิทยาศาสตร์',
                content: document.getElementById("a5-3").innerHTML,
            },
            {
                id: 'marker-5-4',
                position: { yaw: 0.2, pitch: 0.050 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ภาควิชาวิศวกรรมเกษตรก',
                content: document.getElementById("a5-4").innerHTML,
            },
            {
                id: 'marker-5-5',
                position: { yaw: -2.5, pitch: 0.080 },
                image: baseUrl + 'pictos/pin-red.png',
                size: { width: 50, height: 50 },
                anchor: 'bottom center',
                tooltip: 'ที่จอดรถ',
            },
        ],
    },

], '2');


const viewer2 = new PhotoSphereViewer.Viewer({
    container: 'viewer2',
    panorama: 'image/cp.jpg',
    caption: 'Parc national du Mercantour <b>&copy; Damien Sorel</b>',
    loadingImg: baseUrl + 'loader.gif',
    touchmoveTwoFingers: true,
    mousewheelCtrlKey: true,

    plugins2: [
        [PhotoSphereViewer.AutorotatePlugin, {
            autostartDelay: 1000,
            autorotatePitch: '5deg',
        }],
    ],
});
